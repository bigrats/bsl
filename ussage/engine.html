<!DOCTYPE html>
<html>
<head>
    <title>Boilit Script Language</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <link rel="stylesheet" type="text/css" href="../themes/default/css.css">
    <link type="text/css" rel="stylesheet" href="../scripts/prettify/themes/boilit.css" media="screen"/>

    <script type="text/javascript" src="../scripts/prettify/scripts/prettify.js"></script>

</head>
<body onload="prettyPrint();">

<h1>示例代码</h1>
<pre class="prettyprint language-java linenums">
    // 创建引擎实例
    Engine engine = new Engine();

    // 设置日志适配器，不指定则使用缺省值，缺省为控制台日志
    engine.setLogger(new DefaultLogger());

    // 设置模板输入编码，不指定则使用缺省值，缺省值为文件系统编码
    engine.setInputEncoding(System.getProperty("file.encoding"));

    // 设置模板输出编码，不指定则使用缺省值，缺省值为UTF-8编码
    engine.setOutputEncoding("UTF-8");

    // 设置是否使用专用编码器，不指定则使用缺省值，缺省值为false即JDK默认的编码器
    engine.setSpecifiedEncoder(true);

    // 设置是否使用模板缓存，不指定则使用缺省值，缺省值为true即开启模板缓存，开启模板缓存后模板只被读取一次
    engine.setUseTemplateCache(true);

    // 设置资源加载器，不指定则使用缺省值，缺省值为FileResourceLoader
    engine.setResourceLoader(new FileResourceLoader(engine.getInputEncoding()));

    // 设置静态文本压缩器，不指定则使用缺省值，缺省值为EmptyCompressor即不压缩静态文本
    engine.setTextCompressor(new EmptyCompressor());
</pre>
<h1>引擎解释：</h1>
<pre style="line-height: 20px;">
    1、本引擎不提供配置文件来装载引擎缺省值，引擎所有属性均有缺省值。
    2、本引擎不提供引擎单例，使用者需自己实现单例模式及设置引擎属性。
    3、以上两点使本引擎在与第三方框架集成及使用API编程方面达到最大的灵活性。
</pre>
<h1>代码解释：</h1>
<pre style="line-height: 20px;" escape="true">
    1、实例化引擎，new Engine()；
    2、指定日志适配器，默认值为控制台日志系统，更改需调用engine.setLogger方法；
       适配常见的日志系统，目前支持JCL、JUL、LOG4J、SLF4J、控制台日志系统及无日志系统；
    3、指定模板输入编码，默认值为操作系统文件编码，更改需调用engine.setInputEncoding方法；
       模板输入编码如无特殊情况一般不需要指定；
    4、指定模板输出编码，默认值为UTF-8，更改需调用engine.setOutputEncoding方法；
    5、指定使用专用编码器，默认值为false，更改需调用engine.setSpecifiedEncoder方法，
       当该值为true时使用引擎自带的高速编码转换器，false时使用JDK自带的编码转换器。
    6、指定使用模板缓存，默认值为true，更改需调用engine.setUseTemplateCache方法，
       一般在开发期可将该值设置为false，项目发布时改为true，开启缓存后模板只读取一次；
       如在项目发布后需要使更改后的模板生效，则将缓存清理即可，需调用engine.clearTemplateCache方法；
    7、指定资源加载器，默认值为FileResourceLoader，更改需调用engine.setResourceLoader方法；
       资源加载器是用来加载模板资源的，目前支持File、ClassPath、URL等方式的资源加载，可扩展；
    8、指定静态文本压缩器，默认值为EmptyCompressor，更改需调用engine.setTextCompressor方法；
       静态文本压缩是为了减少文本输出大小减少IO设计，目前有三个级别：
       EmptyCompressor：空的压缩，即不对静态文本做任何压缩；
       GeneralCompressor：一般压缩，将空行剔除；
       ExtremeCompressor：极限压缩，将静态文本压缩到一行；
       一般开发期可以使用EmptyCompressor、GeneralCompressor，项目发布期使用ExtremeCompressor；
    9、如果需要输出格式化工具支持，请参考<a href="formatter.html">格式化扩展</a>
    10、复杂的例子参考<a href="example.html">示例程序</a>
</pre>
</body>
</html>